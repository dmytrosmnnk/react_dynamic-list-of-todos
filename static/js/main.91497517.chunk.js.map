{"version":3,"sources":["components/TodoList/TodoList.tsx","api.ts","components/CurrentUser/CurrentUser.tsx","App.tsx","index.tsx"],"names":["TodoList","todos","selectedUserId","selectUser","useState","query","setQuery","statusFilter","setStatusFilter","random","setRandom","queryLLC","setQueryLLC","useEffect","toLocaleLowerCase","visibleTodos","useMemo","filter","todo","title","includes","completed","sort","t1","t2","Math","id","className","type","name","placeholder","autoComplete","value","onChange","event","target","classNames","onClick","map","checked","readOnly","userId","getData","url","fetch","then","resp","ok","json","Promise","reject","status","statusText","CurrentUser","clearUser","user","setUser","errorMess","setErrorMess","userFromServer","catch","error","email","phone","App","setSelectedUserId","setTodos","todosFromServer","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.91497517.chunk.js","sourcesContent":["/* eslint-disable max-len */\nimport classNames from 'classnames';\nimport React, { useMemo, useState, useEffect } from 'react';\nimport './TodoList.scss';\n\ntype Props = {\n  todos: Todo[];\n  selectedUserId: number;\n  selectUser: (id: number) => void;\n};\n\nexport const TodoList: React.FC<Props> = ({\n  todos,\n  selectedUserId,\n  selectUser,\n}) => {\n  const [query, setQuery] = useState<string>('');\n  const [statusFilter, setStatusFilter] = useState<string>('all');\n  const [random, setRandom] = useState<boolean>(false);\n  const [queryLLC, setQueryLLC] = useState<string>('');\n\n  useEffect(() => {\n    setQueryLLC(query.toLocaleLowerCase());\n  }, [query]);\n\n  const visibleTodos = useMemo(() => (\n    todos\n      .filter(todo => todo.title.toLocaleLowerCase().includes(queryLLC))\n      .filter(todo => {\n        switch (statusFilter) {\n          case 'all':\n            return todo;\n\n          case 'active':\n            return todo.completed === false;\n\n          case 'completed':\n            return todo.completed;\n\n          default:\n            return 0;\n        }\n      })\n      .sort((t1, t2) => (\n        random\n          ? Math.random() - 0.5\n          : t1.id - t2.id\n      ))\n  ), [queryLLC, statusFilter, random]);\n\n  const handleInput = (event: React.ChangeEvent<HTMLInputElement>) => {\n    setQuery(event.target.value);\n  };\n\n  const handleSelect = (event: React.ChangeEvent<HTMLSelectElement>) => {\n    setStatusFilter(event.target.value);\n  };\n\n  const randomize = () => {\n    setRandom(!random);\n  };\n\n  return (\n    <div className=\"TodoList\">\n      <h2>Todos:</h2>\n\n      <div className=\"TodoList__list-container\">\n        <div className=\"TodoList__item TodoList__item-filters\">\n          <input\n            className=\"TodoList__item-filters--title\"\n            type=\"text\"\n            name=\"query\"\n            placeholder=\"Enter todo`s title\"\n            autoComplete=\"off\"\n            value={query}\n            onChange={handleInput}\n            data-cy=\"filterByTitle\"\n          />\n          <select\n            className=\"TodoList__item-filters--status\"\n            name=\"status\"\n            value={statusFilter}\n            onChange={handleSelect}\n          >\n            <option value=\"all\">All</option>\n            <option value=\"active\">Active</option>\n            <option value=\"completed\">Completed</option>\n          </select>\n          <button\n            className={classNames('button TodoList__item-filters--random', {\n              'button-active': random,\n            })}\n            type=\"button\"\n            onClick={randomize}\n          >\n            Randomize\n          </button>\n        </div>\n\n        <ul className=\"TodoList__list\" data-cy=\"listOfTodos\">\n          {visibleTodos.map((todo) => (\n            <li\n              key={todo.id}\n              className={classNames('TodoList__item', {\n                'TodoList__item--checked': todo.completed,\n                'TodoList__item--unchecked': !todo.completed,\n              })}\n            >\n              <label>\n                <input type=\"checkbox\" checked={todo.completed} readOnly />\n                <p>{todo.title}</p>\n              </label>\n\n              <button\n                className={classNames('TodoList__user-button button', {\n                  'TodoList__user-button--selected': selectedUserId === todo.userId,\n                })}\n                type=\"button\"\n                onClick={() => selectUser(todo.userId)}\n                data-cy=\"userButton\"\n              >\n                {`User #${todo.userId}`}\n              </button>\n            </li>\n          ))}\n        </ul>\n      </div>\n    </div>\n  );\n};\n","/* eslint-disable prefer-promise-reject-errors */\nconst BASE_URL = 'https://mate.academy/students-api';\n\nexport const getData = (url: string) => {\n  return (fetch(`${BASE_URL}/${url}`)\n    .then(resp => (resp.ok\n      ? resp.json()\n      : Promise.reject(`${resp.status} - ${resp.statusText}`)))\n  );\n};\n\nexport const getTodos = () => getData('/todos');\nexport const getUsers = () => getData('/users');\nexport const getUser = (id: number) => getData(`/users/${id}`);\n","import React, { useState, useEffect } from 'react';\nimport './CurrentUser.scss';\nimport { getUser } from '../../api';\n\ntype Props = {\n  userId: number;\n  clearUser: () => void;\n};\n\ntype User = {\n  id: number;\n  name: string;\n  username?: string;\n  email: string;\n  phone: string;\n  website?: string;\n} | null;\n\nexport const CurrentUser: React.FC<Props> = ({ userId, clearUser }) => {\n  const [user, setUser] = useState<User>(null);\n  const [errorMess, setErrorMess] = useState<string>('');\n\n  useEffect(() => {\n    getUser(userId)\n      .then((userFromServer) => setUser(userFromServer))\n      .catch((error) => {\n        setUser(null);\n        setErrorMess(`ERROR: Can't find user with id #${userId}!\n          <${error}>`);\n      });\n  }, [userId]);\n\n  return (\n    <>\n      {user\n        ? (\n          <div className=\"CurrentUser\">\n            <h2 className=\"CurrentUser__title\">\n              <span>{`Selected user: ${user.id}`}</span>\n            </h2>\n\n            <h3 className=\"CurrentUser__name\" data-cy=\"userName\">\n              {user.name}\n            </h3>\n            <p className=\"CurrentUser__email\">{user.email}</p>\n            <p className=\"CurrentUser__phone\">{user.phone}</p>\n\n            <button\n              type=\"button\"\n              className=\"button CurrentUser__button-clear\"\n              onClick={() => {\n                clearUser();\n                setUser(null);\n              }}\n            >\n              Clear\n            </button>\n          </div>\n        ) : (\n          <div>{errorMess && errorMess}</div>\n        )}\n    </>\n  );\n};\n","import React, { useState, useEffect } from 'react';\nimport './App.scss';\nimport './styles/general.scss';\nimport { TodoList } from './components/TodoList';\nimport { CurrentUser } from './components/CurrentUser';\nimport { getTodos } from './api';\n\nexport type Todo = {\n  id: number;\n  createdAt?: string,\n  updatedAt?: string,\n  userId: number;\n  title: string;\n  completed: boolean;\n};\n\nconst App: React.FC = () => {\n  const [selectedUserId, setSelectedUserId] = useState<number>(0);\n  const [todos, setTodos] = useState<Todo[] | null>(null);\n  const [errorMess, setErrorMess] = useState<string>('');\n\n  useEffect(() => {\n    getTodos()\n      .then((todosFromServer) => setTodos(todosFromServer))\n      .catch(error => setErrorMess(`ERROR: Can't load todos! --- <${error}>`));\n  }, []);\n\n  const selectUser = (id: number) => {\n    setSelectedUserId(id);\n  };\n\n  const clearUser = () => {\n    setSelectedUserId(0);\n  };\n\n  return (\n    <div className=\"App\">\n      <div className=\"App__sidebar\">\n        {todos\n          ? (\n            <TodoList\n              todos={todos}\n              selectedUserId={selectedUserId}\n              selectUser={selectUser}\n            />\n          )\n          : <p>{errorMess}</p>}\n      </div>\n\n      <div className=\"App__content\">\n        <div className=\"App__content-container\">\n          {selectedUserId ? (\n            <CurrentUser\n              userId={selectedUserId}\n              clearUser={clearUser}\n            />\n          ) : 'No user selected'}\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default App;\n","import ReactDOM from 'react-dom';\nimport App from './App';\n\nReactDOM.render(\n  <App />,\n  document.getElementById('root'),\n);\n"],"sourceRoot":""}